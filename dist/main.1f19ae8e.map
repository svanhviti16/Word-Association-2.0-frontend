{"version":3,"sources":["main.js"],"names":["window","addEventListener","init","score","isPlaying","time","scoreStorage","localStorage","wordInput","document","querySelector","contents","Array","mainWord","other0","other1","other2","scoreDisplay","scoreText","timeDisplay","message","feedback","seconds","skyldheitiDisplay","wordDict","isValid","getItem","innerHTML","showWord","matchWords","fetch","then","response","json","word","mainword","otherwords","console","log","catch","err","e","key","value","result","isCorrect","is_correct","mostSimilar","most_similar","timeOut","setItem","className","setTimeout","location","reload","countdown","checkStatus"],"mappings":"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","file":"main.1f19ae8e.map","sourceRoot":"..","sourcesContent":["// Basic game structure based on Brad Traversy's speed-typing game tutorial: https://www.youtube.com/watch?v=Yw-SYSG-028\n\nwindow.addEventListener('load', init);\n\n// Global scope variables\nlet score = 0;\nlet isPlaying;\nlet time = 10;\nscoreStorage = window.localStorage;\n\n// DOM elements\nconst wordInput = document.querySelector('#word-input')\nvar contents = new Array()\nconst mainWord = document.querySelector('#main-word')\nconst other0 = document.querySelector('#other-0')\nconst other1 = document.querySelector('#other-1')\nconst other2 = document.querySelector('#other-2')\nconst scoreDisplay = document.querySelector('#score')\nconst scoreText = document.querySelector('#scoreText')\nconst timeDisplay = document.querySelector('#time')\nconst message = document.querySelector('#message')\nconst feedback = document.querySelector('#feedback')\nconst seconds = document.querySelector('#seconds')\nconst skyldheitiDisplay = document.querySelector('#skyldheiti')\nvar wordDict = {}\nvar isValid;\n\n// Initialize Game\nfunction init() {\n  // getting user score from local storage\n  score = scoreStorage.getItem(\"userScore\");\n  if (score >= 1) {\n      scoreDisplay.innerHTML = score;\n  }\n  else {\n      scoreDisplay.innerHTML = \"0\";\n  }\n  // display random word\n  showWord(wordDict);\n  // check typed words - waiting for user to press enter\n  matchWords(wordDict);\n  \n}\n\n// match word to skyldheiti\n// random index word\nfunction showWord(wordDict) {\n  fetch('http://localhost:5042/words')\n  .then(function(response) {\n    return response.json();\n  })\n  .then(word => {\n    wordDict[\"mainword\"] = word.mainword;\n    wordDict[\"otherwords\"] = word.otherwords;\n    // contains the count\n    console.log(wordDict)\n    mainWord.innerHTML = wordDict[\"mainword\"];\n    other0.innerHTML = wordDict[\"otherwords\"][0];\n    other1.innerHTML = wordDict[\"otherwords\"][1];\n    other2.innerHTML = wordDict[\"otherwords\"][2];\n    return wordDict;\n  }).catch(err => {\n    console.log(\"Error fetching word from server.\")\n  });\n}\n\nfunction matchWords(wordDict) {\n  wordInput.addEventListener('keypress', function (e) {\n    if (e.key === 'Enter') {\n      if (!wordInput.value) {\n        return;\n      }\n\n      fetch(`http://localhost:5042/userword/${wordInput.value}+${wordDict.mainword}+${wordDict.otherwords}`)\n      .then(function(response) {\n        return response.json();\n      })\n      .then(result => {\n        isCorrect = result.is_correct;\n        mostSimilar = result.most_similar;\n        var timeOut = 2500;\n        if (isCorrect) {\n          wordInput.value = '';\n          score++;\n          scoreStorage.setItem(\"userScore\", score);\n          score = scoreStorage.getItem(\"userScore\");\n          feedback.className=\"green-text\";\n          feedback.innerHTML = \"Já, tölvan er sammála þér!\";\n        }\n        else {\n          wordInput.value = '';\n          feedback.className=\"blue-text\";\n          feedback.innerHTML = 'Tölvan segir að þetta orð passi betur við ' + mostSimilar;\n        }\n        setTimeout(function() {\n          feedback.innerHTML = \"\";\n          window.location.reload(true);\n        }, timeOut);\n      })\n    }\n  })\n}\n\nfunction countdown() {\n  // Make sure time is not run out\n  if (time > 0) {\n    // Decrement\n    time--;\n  } else if (time === 0) {\n    // Game is over\n    isPlaying = false;\n  }\n  // Show time\n  timeDisplay.innerHTML = time;\n}\n\n// Check game status\nfunction checkStatus() {\n  if (!isPlaying && time === 0) {\n    message.innerHTML = 'Game Over!!!';\n    score = -1;\n  }\n}"]}